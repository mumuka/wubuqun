!function(t){t.fn.touchSlider=function(n){function i(n,i){var n="number"==typeof n?n:0,i="number"==typeof i?i:0;console.log(p.index+"prev"+p.prevpic+"next"+p.nextpic+"x"+i+"direction"+p.direction),t(c[p.index]).css({transform:"translate3d("+(0+i)+"px,0px,0px)",transition:n+"s ease-out"}),(0===n||p.direction>=0)&&t(c[p.prevpic]).css({transform:"translate3d("+(-l+i)+"px,0px,0px)",transition:n+"s ease-out"}),(0===n||p.direction<=0)&&t(c[p.nextpic]).css({transform:"translate3d("+(l+i)+"px,0px,0px)",transition:n+"s ease-out"})}function e(t){var n=t.originalEvent.changedTouches[0];p.start[0]=n.clientX,p.start[1]=n.clientY,p.starttime=t.timeStamp,i()}function o(t){function n(){p.notouch=!1}if(!p.notouch){var e=t.originalEvent.changedTouches[0];p.now[0]=e.clientX,p.now[1]=e.clientY,p.nowtime=t.timeStamp;var o=p.now[0]-p.start[0],a=p.now[1]-p.start[1],r=p.nowtime-p.starttime;if(400>r&&!p.cancontrol)if(Math.abs(o)>8&&Math.abs(a)<8)t.preventDefault(),p.cancontrol=!0;else if(Math.abs(o)<8&&Math.abs(a)>8){if(p.notouch=!0,navigator.userAgent.match(/Android/i)){try{clearTimeout(clearnotoucht)}catch(t){}clearnotoucht=setTimeout(n,500)}return}var s=o;i(0,s)}}function a(n){var i=n.originalEvent.changedTouches[0];p.end[0]=i.clientX,p.end[1]=i.clientY,p.endtime=n.timeStamp;var e=p.end[0]-p.start[0],o=p.end[1]-p.start[1],a=p.endtime-p.starttime;return 250>a&&Math.abs(e)<8&&Math.abs(o)<8?void(window.location.href=t(".sliderbox").find("a:eq("+p.index+")").attr("href")):(p.init(),e>30&&p.cancontrol?p.init(p.index-1):-30>e&&p.cancontrol?p.init(p.index+1):Math.abs(e)<=10&&(p.notouch=!0),p.cancontrol=!1,void r(p.index))}function r(n){function e(){t(c[n])[0].removeEventListener("webkitTransitionEnd",e,!1),p.notouch=!1}return p.notouch?void(p.notouch=!1):(i(1),p.notouch=!0,void t(c[n])[0].addEventListener("webkitTransitionEnd",e,!1))}function s(){setTimeout(s,1e3)}var c=t(this).children();if(1!=c.size()){var d=!1,u=!1,h=3e3;"undefined"!=typeof n&&("boolean"==typeof n.circulate&&(d=n.circulate),"boolean"==typeof n.automatic&&(u=n.automatic),"number"==typeof n.timeinterval&&(h=n.timeinterval));var f=c.size(),l=t(this).width(),p=(t(this).height(),{index:0,notouch:!1,cancontrol:!1,starttime:0,nowtime:0,endtime:0,start:[0,0],now:[0,0],end:[0,0],direction:0,init:function(t){"number"==typeof t?0>t?(this.direction=-1,this.index=f-1):t>=f?(this.direction=1,this.index=0):(this.direction=t>this.index?1:-1,this.index=t):this.direction=0;var n=p.index-1;this.prevpic=n>=0?n:f-1;var i=p.index+1;this.nextpic=f>i?i:0}});return p.init(),t(this).find("a").click(function(t){t.preventDefault()}),c.css({width:l}),c.css({transform:"translate3d("+l+"px,0px,0px)",transition:"0s ease-out"}),t(c[p.index]).css({transform:"translate3d(0px,0px,0px)",transition:"0s ease-out"}),c.addClass("positionbox"),t(this).bind("touchstart",function(t){e(t)}),t(this).bind("touchmove",function(t){o(t)}),t(this).bind("touchend",function(t){a(t)}),setTimeout(s,1e3),t(this)}}}("undefined"!=typeof jQuery?jQuery:window.Zepto);
//# sourceMappingURL=wubuslider.js.map